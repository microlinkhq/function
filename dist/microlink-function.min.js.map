{"version":3,"file":"microlink-function.min.js","sources":["../src/factory.js","../node_modules/.pnpm/is-url-http@2.2.7/node_modules/is-url-http/lightweight.js","../node_modules/.pnpm/flattie@1.1.0/node_modules/flattie/dist/index.js","../node_modules/.pnpm/qss@2.0.3/node_modules/qss/dist/qss.m.js","../node_modules/.pnpm/clean-stack@2.2.0/node_modules/clean-stack/index.js","../node_modules/.pnpm/mimic-fn@3.0.0/node_modules/mimic-fn/index.js","../node_modules/.pnpm/whoops@4.1.0/node_modules/whoops/lib/helpers.js","../node_modules/.pnpm/whoops@4.1.0/node_modules/whoops/lib/add-error-props.js","../node_modules/.pnpm/whoops@4.1.0/node_modules/whoops/lib/create-extend-error.js","../node_modules/.pnpm/whoops@4.1.0/node_modules/whoops/lib/create-error.js","../node_modules/.pnpm/whoops@4.1.0/node_modules/whoops/lib/index.js","../node_modules/.pnpm/@microlink+mql@0.10.13/node_modules/@microlink/mql/src/factory.js","../node_modules/.pnpm/@microlink+mql@0.10.13/node_modules/@microlink/mql/src/ky.js","../node_modules/.pnpm/@microlink+mql@0.10.13/node_modules/@microlink/mql/src/browser.js","../src/browser.js"],"sourcesContent":["'use strict'\n\nconst factory = ({ mql, VERSION, toCompress }) => {\n  const microlink = (code, mqlOpts, gotOpts) => {\n    const compress = toCompress(code)\n\n    return async (url, opts) => {\n      const { data } = await mql(\n        url,\n        {\n          function: await compress,\n          meta: false,\n          ...mqlOpts,\n          ...opts\n        },\n        gotOpts\n      )\n\n      return data.function\n    }\n  }\n\n  microlink.version = VERSION\n  microlink.mql = mql\n\n  return microlink\n}\n\nmodule.exports = factory\n","'use strict'\n\nconst URL = global.window ? window.URL : require('url').URL\nconst REGEX_HTTP_PROTOCOL = /^https?:\\/\\//i\n\nmodule.exports = url => {\n  try {\n    return REGEX_HTTP_PROTOCOL.test(new URL(url).href)\n  } catch (err) {\n    return false\n  }\n}\n","function iter(output, nullish, sep, val, key) {\n\tvar k, pfx = key ? (key + sep) : key;\n\n\tif (val == null) {\n\t\tif (nullish) output[key] = val;\n\t} else if (typeof val != 'object') {\n\t\toutput[key] = val;\n\t} else if (Array.isArray(val)) {\n\t\tfor (k=0; k < val.length; k++) {\n\t\t\titer(output, nullish, sep, val[k], pfx + k);\n\t\t}\n\t} else {\n\t\tfor (k in val) {\n\t\t\titer(output, nullish, sep, val[k], pfx + k);\n\t\t}\n\t}\n}\n\nfunction flattie(input, glue, toNull) {\n\tvar output = {};\n\tif (typeof input == 'object') {\n\t\titer(output, !!toNull, glue || '.', input, '');\n\t}\n\treturn output;\n}\n\nexports.flattie = flattie;","export function encode(obj, pfx) {\n\tvar k, i, tmp, str='';\n\n\tfor (k in obj) {\n\t\tif ((tmp = obj[k]) !== void 0) {\n\t\t\tif (Array.isArray(tmp)) {\n\t\t\t\tfor (i=0; i < tmp.length; i++) {\n\t\t\t\t\tstr && (str += '&');\n\t\t\t\t\tstr += encodeURIComponent(k) + '=' + encodeURIComponent(tmp[i]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstr && (str += '&');\n\t\t\t\tstr += encodeURIComponent(k) + '=' + encodeURIComponent(tmp);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (pfx || '') + str;\n}\n\nfunction toValue(mix) {\n\tif (!mix) return '';\n\tvar str = decodeURIComponent(mix);\n\tif (str === 'false') return false;\n\tif (str === 'true') return true;\n\treturn (+str * 0 === 0) ? (+str) : str;\n}\n\nexport function decode(str) {\n\tvar tmp, k, out={}, arr=str.split('&');\n\n\twhile (tmp = arr.shift()) {\n\t\ttmp = tmp.split('=');\n\t\tk = tmp.shift();\n\t\tif (out[k] !== void 0) {\n\t\t\tout[k] = [].concat(out[k], toValue(tmp.shift()));\n\t\t} else {\n\t\t\tout[k] = toValue(tmp.shift());\n\t\t}\n\t}\n\n\treturn out;\n}\n","'use strict';\nconst os = require('os');\n\nconst extractPathRegex = /\\s+at.*(?:\\(|\\s)(.*)\\)?/;\nconst pathRegex = /^(?:(?:(?:node|(?:internal\\/[\\w/]*|.*node_modules\\/(?:babel-polyfill|pirates)\\/.*)?\\w+)\\.js:\\d+:\\d+)|native)/;\nconst homeDir = typeof os.homedir === 'undefined' ? '' : os.homedir();\n\nmodule.exports = (stack, options) => {\n\toptions = Object.assign({pretty: false}, options);\n\n\treturn stack.replace(/\\\\/g, '/')\n\t\t.split('\\n')\n\t\t.filter(line => {\n\t\t\tconst pathMatches = line.match(extractPathRegex);\n\t\t\tif (pathMatches === null || !pathMatches[1]) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst match = pathMatches[1];\n\n\t\t\t// Electron\n\t\t\tif (\n\t\t\t\tmatch.includes('.app/Contents/Resources/electron.asar') ||\n\t\t\t\tmatch.includes('.app/Contents/Resources/default_app.asar')\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn !pathRegex.test(match);\n\t\t})\n\t\t.filter(line => line.trim() !== '')\n\t\t.map(line => {\n\t\t\tif (options.pretty) {\n\t\t\t\treturn line.replace(extractPathRegex, (m, p1) => m.replace(p1, p1.replace(homeDir, '~')));\n\t\t\t}\n\n\t\t\treturn line;\n\t\t})\n\t\t.join('\\n');\n};\n","'use strict';\n\nconst copyProperty = (to, from, property, ignoreNonConfigurable) => {\n\t// `Function#length` should reflect the parameters of `to` not `from` since we keep its body.\n\t// `Function#prototype` is non-writable and non-configurable so can never be modified.\n\tif (property === 'length' || property === 'prototype') {\n\t\treturn;\n\t}\n\n\tconst toDescriptor = Object.getOwnPropertyDescriptor(to, property);\n\tconst fromDescriptor = Object.getOwnPropertyDescriptor(from, property);\n\n\tif (!canCopyProperty(toDescriptor, fromDescriptor) && ignoreNonConfigurable) {\n\t\treturn;\n\t}\n\n\tObject.defineProperty(to, property, fromDescriptor);\n};\n\n// `Object.defineProperty()` throws if the property exists, is not configurable and either:\n//  - one its descriptors is changed\n//  - it is non-writable and its value is changed\nconst canCopyProperty = function (toDescriptor, fromDescriptor) {\n\treturn toDescriptor === undefined || toDescriptor.configurable || (\n\t\ttoDescriptor.writable === fromDescriptor.writable &&\n\t\ttoDescriptor.enumerable === fromDescriptor.enumerable &&\n\t\ttoDescriptor.configurable === fromDescriptor.configurable &&\n\t\t(toDescriptor.writable || toDescriptor.value === fromDescriptor.value)\n\t);\n};\n\nconst changePrototype = (to, from) => {\n\tconst fromPrototype = Object.getPrototypeOf(from);\n\tif (fromPrototype === Object.getPrototypeOf(to)) {\n\t\treturn;\n\t}\n\n\tObject.setPrototypeOf(to, fromPrototype);\n};\n\nconst wrappedToString = (withName, fromBody) => `/* Wrapped ${withName}*/\\n${fromBody}`;\n\nconst toStringDescriptor = Object.getOwnPropertyDescriptor(Function.prototype, 'toString');\nconst toStringName = Object.getOwnPropertyDescriptor(Function.prototype.toString, 'name');\n\n// We call `from.toString()` early (not lazily) to ensure `from` can be garbage collected.\n// We use `bind()` instead of a closure for the same reason.\n// Calling `from.toString()` early also allows caching it in case `to.toString()` is called several times.\nconst changeToString = (to, from, name) => {\n\tconst withName = name === '' ? '' : `with ${name.trim()}() `;\n\tconst newToString = wrappedToString.bind(null, withName, from.toString());\n\t// Ensure `to.toString.toString` is non-enumerable and has the same `same`\n\tObject.defineProperty(newToString, 'name', toStringName);\n\tObject.defineProperty(to, 'toString', {...toStringDescriptor, value: newToString});\n};\n\nconst mimicFn = (to, from, {ignoreNonConfigurable = false} = {}) => {\n\tconst {name} = to;\n\n\tfor (const property of Reflect.ownKeys(from)) {\n\t\tcopyProperty(to, from, property, ignoreNonConfigurable);\n\t}\n\n\tchangePrototype(to, from);\n\tchangeToString(to, from, name);\n\n\treturn to;\n};\n\nmodule.exports = mimicFn;\n","'use strict'\n\nmodule.exports = {\n  isFunction: obj => typeof obj === 'function',\n  isString: obj => typeof obj === 'string',\n  composeErrorMessage: (code, description) => `${code}, ${description}`,\n  inherits: (ctor, superCtor) => {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    })\n  }\n}\n","'use strict'\n\nconst {isFunction, composeErrorMessage} = require('./helpers')\n\nfunction interfaceObject (error, ...props) {\n  Object.assign(error, ...props)\n\n  error.description = isFunction(error.message) ? error.message(error) : error.message\n\n  error.message = error.code\n   ? composeErrorMessage(error.code, error.description)\n   : error.description\n}\n\nmodule.exports = interfaceObject\n","'use strict'\n\nconst cleanStack = require('clean-stack')\nconst mimicFn = require('mimic-fn')\n\nconst addErrorProps = require('./add-error-props')\nconst {isString} = require('./helpers')\n\nfunction createExtendError (ErrorClass, classProps) {\n  function ExtendError (props) {\n    const error = new ErrorClass()\n    const errorProps = isString(props) ? {message: props} : props\n    addErrorProps(error, classProps, errorProps)\n\n    error.stack = cleanStack(error.stack)\n    return error\n  }\n\n  ExtendError.prototype = ErrorClass.prototype\n  mimicFn(ExtendError, ErrorClass)\n\n  return ExtendError\n}\n\nmodule.exports = createExtendError\n","'use strict'\n\nconst {inherits} = require('./helpers')\nconst mimicFn = require('mimic-fn')\n\nconst REGEX_CLASS_NAME = /[^0-9a-zA-Z_$]/\n\nfunction createError (className) {\n  if (typeof className !== 'string') {\n    throw new TypeError('Expected className to be a string')\n  }\n\n  if (REGEX_CLASS_NAME.test(className)) {\n    throw new Error('className contains invalid characters')\n  }\n\n  function ErrorClass () {\n    Object.defineProperty(this, 'name', {\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    Error.captureStackTrace(this, this.constructor)\n  }\n\n  inherits(ErrorClass, Error)\n  mimicFn(ErrorClass, Error)\n  return ErrorClass\n}\n\nmodule.exports = createError\n","'use strict'\n\nconst createExtendError = require('./create-extend-error')\nconst createError = require('./create-error')\n\nconst createErrorClass = ErrorClass => (className, props) => {\n  const errorClass = createError(className || ErrorClass.name)\n  return createExtendError(errorClass, props)\n}\n\nmodule.exports = createErrorClass(Error)\nmodule.exports.type = createErrorClass(TypeError)\nmodule.exports.range = createErrorClass(RangeError)\nmodule.exports.eval = createErrorClass(EvalError)\nmodule.exports.syntax = createErrorClass(SyntaxError)\nmodule.exports.reference = createErrorClass(ReferenceError)\nmodule.exports.uri = createErrorClass(URIError)\n","const ENDPOINT = {\n  FREE: 'https://api.microlink.io',\n  PRO: 'https://pro.microlink.io'\n}\n\nconst isObject = input => input !== null && typeof input === 'object'\n\nconst parseBody = (input, error, url) => {\n  try {\n    return JSON.parse(input)\n  } catch (_) {\n    const message = input || error.message\n\n    return {\n      status: 'error',\n      data: { url: message },\n      more: 'https://microlink.io/efatalclient',\n      code: 'EFATALCLIENT',\n      message,\n      url\n    }\n  }\n}\n\nconst factory = ({\n  VERSION,\n  MicrolinkError,\n  isUrlHttp,\n  stringify,\n  got,\n  flatten\n}) => {\n  const assertUrl = (url = '') => {\n    if (!isUrlHttp(url)) {\n      const message = `The \\`url\\` as \\`${url}\\` is not valid. Ensure it has protocol (http or https) and hostname.`\n      throw new MicrolinkError({\n        status: 'fail',\n        data: { url: message },\n        more: 'https://microlink.io/docs/api/api-parameters/url',\n        code: 'EINVALURLCLIENT',\n        message,\n        url\n      })\n    }\n  }\n\n  const mapRules = rules => {\n    if (!isObject(rules)) return\n    const flatRules = flatten(rules)\n    return Object.keys(flatRules).reduce(\n      (acc, key) => ({ ...acc, [`data.${key}`]: flatRules[key].toString() }),\n      {}\n    )\n  }\n\n  const fetchFromApi = async (apiUrl, opts = {}, retryCount = 0) => {\n    try {\n      const response = await got(apiUrl, opts)\n      return opts.responseType === 'buffer'\n        ? { body: response.body, response }\n        : { ...response.body, response }\n    } catch (err) {\n      const { response = {} } = err\n      const { statusCode, body: rawBody, headers, url: uri = apiUrl } = response\n      const isBuffer = Buffer.isBuffer(rawBody)\n\n      const body =\n        isObject(rawBody) && !isBuffer\n          ? rawBody\n          : parseBody(isBuffer ? rawBody.toString() : rawBody, err, uri)\n\n      if (body.code === 'EFATALCLIENT' && retryCount++ < 2) {\n        return fetchFromApi(apiUrl, opts, retryCount)\n      }\n\n      throw MicrolinkError({\n        ...body,\n        message: body.message,\n        url: uri,\n        statusCode,\n        headers\n      })\n    }\n  }\n\n  const getApiUrl = (\n    url,\n    { data, apiKey, endpoint, retry, cache, ...opts } = {},\n    { responseType = 'json', headers: gotHeaders, ...gotOpts } = {}\n  ) => {\n    const isPro = !!apiKey\n    const apiEndpoint = endpoint || ENDPOINT[isPro ? 'PRO' : 'FREE']\n\n    const apiUrl = `${apiEndpoint}?${stringify({\n      url,\n      ...mapRules(data),\n      ...flatten(opts)\n    })}`\n\n    const headers = isPro\n      ? { ...gotHeaders, 'x-api-key': apiKey }\n      : { ...gotHeaders }\n    return [apiUrl, { ...gotOpts, responseType, cache, retry, headers }]\n  }\n\n  const createMql = defaultOpts => async (url, opts, gotOpts) => {\n    assertUrl(url)\n    const [apiUrl, fetchOpts] = getApiUrl(url, opts, {\n      ...defaultOpts,\n      ...gotOpts\n    })\n    return fetchFromApi(apiUrl, fetchOpts)\n  }\n\n  const mql = createMql()\n  mql.MicrolinkError = MicrolinkError\n  mql.getApiUrl = getApiUrl\n  mql.fetchFromApi = fetchFromApi\n  mql.mapRules = mapRules\n  mql.version = VERSION\n  mql.stream = got.stream\n  mql.buffer = createMql({ responseType: 'buffer' })\n\n  return mql\n}\n\nmodule.exports = factory\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.ky = factory());\n}(this, (function () { 'use strict';\n\n\t/*! MIT License © Sindre Sorhus */\n\n\tconst isObject = value => value !== null && typeof value === 'object';\n\tconst supportsAbortController = typeof globalThis.AbortController === 'function';\n\tconst supportsStreams = typeof globalThis.ReadableStream === 'function';\n\tconst supportsFormData = typeof globalThis.FormData === 'function';\n\n\tconst mergeHeaders = (source1, source2) => {\n\t\tconst result = new globalThis.Headers(source1 || {});\n\t\tconst isHeadersInstance = source2 instanceof globalThis.Headers;\n\t\tconst source = new globalThis.Headers(source2 || {});\n\n\t\tfor (const [key, value] of source) {\n\t\t\tif ((isHeadersInstance && value === 'undefined') || value === undefined) {\n\t\t\t\tresult.delete(key);\n\t\t\t} else {\n\t\t\t\tresult.set(key, value);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tconst deepMerge = (...sources) => {\n\t\tlet returnValue = {};\n\t\tlet headers = {};\n\n\t\tfor (const source of sources) {\n\t\t\tif (Array.isArray(source)) {\n\t\t\t\tif (!(Array.isArray(returnValue))) {\n\t\t\t\t\treturnValue = [];\n\t\t\t\t}\n\n\t\t\t\treturnValue = [...returnValue, ...source];\n\t\t\t} else if (isObject(source)) {\n\t\t\t\tfor (let [key, value] of Object.entries(source)) {\n\t\t\t\t\tif (isObject(value) && (key in returnValue)) {\n\t\t\t\t\t\tvalue = deepMerge(returnValue[key], value);\n\t\t\t\t\t}\n\n\t\t\t\t\treturnValue = {...returnValue, [key]: value};\n\t\t\t\t}\n\n\t\t\t\tif (isObject(source.headers)) {\n\t\t\t\t\theaders = mergeHeaders(headers, source.headers);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturnValue.headers = headers;\n\t\t}\n\n\t\treturn returnValue;\n\t};\n\n\tconst requestMethods = [\n\t\t'get',\n\t\t'post',\n\t\t'put',\n\t\t'patch',\n\t\t'head',\n\t\t'delete'\n\t];\n\n\tconst responseTypes = {\n\t\tjson: 'application/json',\n\t\ttext: 'text/*',\n\t\tformData: 'multipart/form-data',\n\t\tarrayBuffer: '*/*',\n\t\tblob: '*/*'\n\t};\n\n\tconst retryMethods = [\n\t\t'get',\n\t\t'put',\n\t\t'head',\n\t\t'delete',\n\t\t'options',\n\t\t'trace'\n\t];\n\n\tconst retryStatusCodes = [\n\t\t408,\n\t\t413,\n\t\t429,\n\t\t500,\n\t\t502,\n\t\t503,\n\t\t504\n\t];\n\n\tconst retryAfterStatusCodes = [\n\t\t413,\n\t\t429,\n\t\t503\n\t];\n\n\tconst stop = Symbol('stop');\n\n\tclass HTTPError extends Error {\n\t\tconstructor(response, request, options) {\n\t\t\t// Set the message to the status text, such as Unauthorized,\n\t\t\t// with some fallbacks. This message should never be undefined.\n\t\t\tsuper(\n\t\t\t\tresponse.statusText ||\n\t\t\t\tString(\n\t\t\t\t\t(response.status === 0 || response.status) ?\n\t\t\t\t\t\tresponse.status : 'Unknown response error'\n\t\t\t\t)\n\t\t\t);\n\t\t\tthis.name = 'HTTPError';\n\t\t\tthis.response = response;\n\t\t\tthis.request = request;\n\t\t\tthis.options = options;\n\t\t}\n\t}\n\n\tclass TimeoutError extends Error {\n\t\tconstructor(request) {\n\t\t\tsuper('Request timed out');\n\t\t\tthis.name = 'TimeoutError';\n\t\t\tthis.request = request;\n\t\t}\n\t}\n\n\tconst delay = ms => new Promise(resolve => setTimeout(resolve, ms));\n\n\t// `Promise.race()` workaround (#91)\n\tconst timeout = (request, abortController, options) =>\n\t\tnew Promise((resolve, reject) => {\n\t\t\tconst timeoutID = setTimeout(() => {\n\t\t\t\tif (abortController) {\n\t\t\t\t\tabortController.abort();\n\t\t\t\t}\n\n\t\t\t\treject(new TimeoutError(request));\n\t\t\t}, options.timeout);\n\n\t\t\t/* eslint-disable promise/prefer-await-to-then */\n\t\t\toptions.fetch(request)\n\t\t\t\t.then(resolve)\n\t\t\t\t.catch(reject)\n\t\t\t\t.then(() => {\n\t\t\t\t\tclearTimeout(timeoutID);\n\t\t\t\t});\n\t\t\t/* eslint-enable promise/prefer-await-to-then */\n\t\t});\n\n\tconst normalizeRequestMethod = input => requestMethods.includes(input) ? input.toUpperCase() : input;\n\n\tconst defaultRetryOptions = {\n\t\tlimit: 2,\n\t\tmethods: retryMethods,\n\t\tstatusCodes: retryStatusCodes,\n\t\tafterStatusCodes: retryAfterStatusCodes\n\t};\n\n\tconst normalizeRetryOptions = (retry = {}) => {\n\t\tif (typeof retry === 'number') {\n\t\t\treturn {\n\t\t\t\t...defaultRetryOptions,\n\t\t\t\tlimit: retry\n\t\t\t};\n\t\t}\n\n\t\tif (retry.methods && !Array.isArray(retry.methods)) {\n\t\t\tthrow new Error('retry.methods must be an array');\n\t\t}\n\n\t\tif (retry.statusCodes && !Array.isArray(retry.statusCodes)) {\n\t\t\tthrow new Error('retry.statusCodes must be an array');\n\t\t}\n\n\t\treturn {\n\t\t\t...defaultRetryOptions,\n\t\t\t...retry,\n\t\t\tafterStatusCodes: retryAfterStatusCodes\n\t\t};\n\t};\n\n\t// The maximum value of a 32bit int (see issue #117)\n\tconst maxSafeTimeout = 2147483647;\n\n\tclass Ky {\n\t\tconstructor(input, options = {}) {\n\t\t\tthis._retryCount = 0;\n\t\t\tthis._input = input;\n\t\t\tthis._options = {\n\t\t\t\t// TODO: credentials can be removed when the spec change is implemented in all browsers. Context: https://www.chromestatus.com/feature/4539473312350208\n\t\t\t\tcredentials: this._input.credentials || 'same-origin',\n\t\t\t\t...options,\n\t\t\t\theaders: mergeHeaders(this._input.headers, options.headers),\n\t\t\t\thooks: deepMerge({\n\t\t\t\t\tbeforeRequest: [],\n\t\t\t\t\tbeforeRetry: [],\n\t\t\t\t\tafterResponse: []\n\t\t\t\t}, options.hooks),\n\t\t\t\tmethod: normalizeRequestMethod(options.method || this._input.method),\n\t\t\t\tprefixUrl: String(options.prefixUrl || ''),\n\t\t\t\tretry: normalizeRetryOptions(options.retry),\n\t\t\t\tthrowHttpErrors: options.throwHttpErrors !== false,\n\t\t\t\ttimeout: typeof options.timeout === 'undefined' ? 10000 : options.timeout,\n\t\t\t\tfetch: options.fetch || globalThis.fetch.bind(globalThis)\n\t\t\t};\n\n\t\t\tif (typeof this._input !== 'string' && !(this._input instanceof URL || this._input instanceof globalThis.Request)) {\n\t\t\t\tthrow new TypeError('`input` must be a string, URL, or Request');\n\t\t\t}\n\n\t\t\tif (this._options.prefixUrl && typeof this._input === 'string') {\n\t\t\t\tif (this._input.startsWith('/')) {\n\t\t\t\t\tthrow new Error('`input` must not begin with a slash when using `prefixUrl`');\n\t\t\t\t}\n\n\t\t\t\tif (!this._options.prefixUrl.endsWith('/')) {\n\t\t\t\t\tthis._options.prefixUrl += '/';\n\t\t\t\t}\n\n\t\t\t\tthis._input = this._options.prefixUrl + this._input;\n\t\t\t}\n\n\t\t\tif (supportsAbortController) {\n\t\t\t\tthis.abortController = new globalThis.AbortController();\n\t\t\t\tif (this._options.signal) {\n\t\t\t\t\tthis._options.signal.addEventListener('abort', () => {\n\t\t\t\t\t\tthis.abortController.abort();\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis._options.signal = this.abortController.signal;\n\t\t\t}\n\n\t\t\tthis.request = new globalThis.Request(this._input, this._options);\n\n\t\t\tif (this._options.searchParams) {\n\t\t\t\tconst textSearchParams = typeof this._options.searchParams === 'string' ?\n\t\t\t\t\tthis._options.searchParams.replace(/^\\?/, '') :\n\t\t\t\t\tnew URLSearchParams(this._options.searchParams).toString();\n\t\t\t\tconst searchParams = '?' + textSearchParams;\n\t\t\t\tconst url = this.request.url.replace(/(?:\\?.*?)?(?=#|$)/, searchParams);\n\n\t\t\t\t// To provide correct form boundary, Content-Type header should be deleted each time when new Request instantiated from another one\n\t\t\t\tif (((supportsFormData && this._options.body instanceof globalThis.FormData) || this._options.body instanceof URLSearchParams) && !(this._options.headers && this._options.headers['content-type'])) {\n\t\t\t\t\tthis.request.headers.delete('content-type');\n\t\t\t\t}\n\n\t\t\t\tthis.request = new globalThis.Request(new globalThis.Request(url, this.request), this._options);\n\t\t\t}\n\n\t\t\tif (this._options.json !== undefined) {\n\t\t\t\tthis._options.body = JSON.stringify(this._options.json);\n\t\t\t\tthis.request.headers.set('content-type', 'application/json');\n\t\t\t\tthis.request = new globalThis.Request(this.request, {body: this._options.body});\n\t\t\t}\n\n\t\t\tconst fn = async () => {\n\t\t\t\tif (this._options.timeout > maxSafeTimeout) {\n\t\t\t\t\tthrow new RangeError(`The \\`timeout\\` option cannot be greater than ${maxSafeTimeout}`);\n\t\t\t\t}\n\n\t\t\t\tawait delay(1);\n\t\t\t\tlet response = await this._fetch();\n\n\t\t\t\tfor (const hook of this._options.hooks.afterResponse) {\n\t\t\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\t\t\tconst modifiedResponse = await hook(\n\t\t\t\t\t\tthis.request,\n\t\t\t\t\t\tthis._options,\n\t\t\t\t\t\tthis._decorateResponse(response.clone())\n\t\t\t\t\t);\n\n\t\t\t\t\tif (modifiedResponse instanceof globalThis.Response) {\n\t\t\t\t\t\tresponse = modifiedResponse;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._decorateResponse(response);\n\n\t\t\t\tif (!response.ok && this._options.throwHttpErrors) {\n\t\t\t\t\tthrow new HTTPError(response, this.request, this._options);\n\t\t\t\t}\n\n\t\t\t\t// If `onDownloadProgress` is passed, it uses the stream API internally\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tif (this._options.onDownloadProgress) {\n\t\t\t\t\tif (typeof this._options.onDownloadProgress !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('The `onDownloadProgress` option must be a function');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!supportsStreams) {\n\t\t\t\t\t\tthrow new Error('Streams are not supported in your environment. `ReadableStream` is missing.');\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this._stream(response.clone(), this._options.onDownloadProgress);\n\t\t\t\t}\n\n\t\t\t\treturn response;\n\t\t\t};\n\n\t\t\tconst isRetriableMethod = this._options.retry.methods.includes(this.request.method.toLowerCase());\n\t\t\tconst result = isRetriableMethod ? this._retry(fn) : fn();\n\n\t\t\tfor (const [type, mimeType] of Object.entries(responseTypes)) {\n\t\t\t\tresult[type] = async () => {\n\t\t\t\t\tthis.request.headers.set('accept', this.request.headers.get('accept') || mimeType);\n\n\t\t\t\t\tconst response = (await result).clone();\n\n\t\t\t\t\tif (type === 'json') {\n\t\t\t\t\t\tif (response.status === 204) {\n\t\t\t\t\t\t\treturn '';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (options.parseJson) {\n\t\t\t\t\t\t\treturn options.parseJson(await response.text());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn response[type]();\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\t_calculateRetryDelay(error) {\n\t\t\tthis._retryCount++;\n\n\t\t\tif (this._retryCount < this._options.retry.limit && !(error instanceof TimeoutError)) {\n\t\t\t\tif (error instanceof HTTPError) {\n\t\t\t\t\tif (!this._options.retry.statusCodes.includes(error.response.status)) {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst retryAfter = error.response.headers.get('Retry-After');\n\t\t\t\t\tif (retryAfter && this._options.retry.afterStatusCodes.includes(error.response.status)) {\n\t\t\t\t\t\tlet after = Number(retryAfter);\n\t\t\t\t\t\tif (Number.isNaN(after)) {\n\t\t\t\t\t\t\tafter = Date.parse(retryAfter) - Date.now();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tafter *= 1000;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof this._options.retry.maxRetryAfter !== 'undefined' && after > this._options.retry.maxRetryAfter) {\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn after;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (error.response.status === 413) {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst BACKOFF_FACTOR = 0.3;\n\t\t\t\treturn BACKOFF_FACTOR * (2 ** (this._retryCount - 1)) * 1000;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\t_decorateResponse(response) {\n\t\t\tif (this._options.parseJson) {\n\t\t\t\tresponse.json = async () => {\n\t\t\t\t\treturn this._options.parseJson(await response.text());\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn response;\n\t\t}\n\n\t\tasync _retry(fn) {\n\t\t\ttry {\n\t\t\t\treturn await fn();\n\t\t\t} catch (error) {\n\t\t\t\tconst ms = Math.min(this._calculateRetryDelay(error), maxSafeTimeout);\n\t\t\t\tif (ms !== 0 && this._retryCount > 0) {\n\t\t\t\t\tawait delay(ms);\n\n\t\t\t\t\tfor (const hook of this._options.hooks.beforeRetry) {\n\t\t\t\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\t\t\t\tconst hookResult = await hook({\n\t\t\t\t\t\t\trequest: this.request,\n\t\t\t\t\t\t\toptions: this._options,\n\t\t\t\t\t\t\terror,\n\t\t\t\t\t\t\tretryCount: this._retryCount\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// If `stop` is returned from the hook, the retry process is stopped\n\t\t\t\t\t\tif (hookResult === stop) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this._retry(fn);\n\t\t\t\t}\n\n\t\t\t\tif (this._options.throwHttpErrors) {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tasync _fetch() {\n\t\t\tfor (const hook of this._options.hooks.beforeRequest) {\n\t\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\t\tconst result = await hook(this.request, this._options);\n\n\t\t\t\tif (result instanceof Request) {\n\t\t\t\t\tthis.request = result;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (result instanceof Response) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this._options.timeout === false) {\n\t\t\t\treturn this._options.fetch(this.request.clone());\n\t\t\t}\n\n\t\t\treturn timeout(this.request.clone(), this.abortController, this._options);\n\t\t}\n\n\t\t/* istanbul ignore next */\n\t\t_stream(response, onDownloadProgress) {\n\t\t\tconst totalBytes = Number(response.headers.get('content-length')) || 0;\n\t\t\tlet transferredBytes = 0;\n\n\t\t\treturn new globalThis.Response(\n\t\t\t\tnew globalThis.ReadableStream({\n\t\t\t\t\tasync start(controller) {\n\t\t\t\t\t\tconst reader = response.body.getReader();\n\n\t\t\t\t\t\tif (onDownloadProgress) {\n\t\t\t\t\t\t\tonDownloadProgress({percent: 0, transferredBytes: 0, totalBytes}, new Uint8Array());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tasync function read() {\n\t\t\t\t\t\t\tconst {done, value} = await reader.read();\n\t\t\t\t\t\t\tif (done) {\n\t\t\t\t\t\t\t\tcontroller.close();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (onDownloadProgress) {\n\t\t\t\t\t\t\t\ttransferredBytes += value.byteLength;\n\t\t\t\t\t\t\t\tconst percent = totalBytes === 0 ? 0 : transferredBytes / totalBytes;\n\t\t\t\t\t\t\t\tonDownloadProgress({percent, transferredBytes, totalBytes}, value);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcontroller.enqueue(value);\n\t\t\t\t\t\t\tawait read();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tawait read();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t}\n\n\tconst validateAndMerge = (...sources) => {\n\t\tfor (const source of sources) {\n\t\t\tif ((!isObject(source) || Array.isArray(source)) && typeof source !== 'undefined') {\n\t\t\t\tthrow new TypeError('The `options` argument must be an object');\n\t\t\t}\n\t\t}\n\n\t\treturn deepMerge({}, ...sources);\n\t};\n\n\tconst createInstance = defaults => {\n\t\tconst ky = (input, options) => new Ky(input, validateAndMerge(defaults, options));\n\n\t\tfor (const method of requestMethods) {\n\t\t\tky[method] = (input, options) => new Ky(input, validateAndMerge(defaults, options, {method}));\n\t\t}\n\n\t\tky.HTTPError = HTTPError;\n\t\tky.TimeoutError = TimeoutError;\n\t\tky.create = newDefaults => createInstance(validateAndMerge(newDefaults));\n\t\tky.extend = newDefaults => createInstance(validateAndMerge(defaults, newDefaults));\n\t\tky.stop = stop;\n\n\t\treturn ky;\n\t};\n\n\tconst ky = createInstance();\n\n\treturn ky;\n\n})));\n","'use strict'\n\nconst isUrlHttp = require('is-url-http/lightweight')\nconst { flattie: flatten } = require('flattie')\nconst { encode: stringify } = require('qss')\nconst whoops = require('whoops')\n\nconst factory = require('./factory')\nconst ky = require('./ky')\n\nconst MicrolinkError = whoops('MicrolinkError')\n\nconst got = async (url, opts) => {\n  try {\n    if (opts.timeout === undefined) opts.timeout = false\n    const response = await ky(url, opts)\n    const body = await response.json()\n    const { headers, status: statusCode, statusText: statusMessage } = response\n    return { url: response.url, body, headers, statusCode, statusMessage }\n  } catch (err) {\n    if (err.response) {\n      const { response } = err\n      err.response = {\n        ...response,\n        headers: [...response.headers.entries()].reduce(\n          (acc, [key, value]) => ({ ...acc, [key]: value }),\n          {}\n        ),\n        statusCode: response.status,\n        body: await response.text()\n      }\n    }\n    throw err\n  }\n}\n\nmodule.exports = factory({\n  MicrolinkError,\n  isUrlHttp,\n  stringify,\n  got,\n  flatten,\n  VERSION: '__MQL_VERSION__'\n})\n","'use strict'\n\nmodule.exports = require('./factory')({\n  mql: require('@microlink/mql'),\n  toCompress: code => code.toString(),\n  VERSION: '__VERSION__'\n})\n"],"names":["factory_1","mql","VERSION","toCompress","microlink","code","mqlOpts","gotOpts","compress","async","url","opts","data","function","meta","version","URL","global","window","require$$0","REGEX_HTTP_PROTOCOL","iter","output","nullish","sep","val","key","k","pfx","Array","isArray","length","toValue","mix","str","decodeURIComponent","input","glue","toNull","obj","i","tmp","encodeURIComponent","out","arr","split","shift","concat","os","extractPathRegex","pathRegex","homeDir","homedir","copyProperty","to","from","property","ignoreNonConfigurable","toDescriptor","Object","getOwnPropertyDescriptor","fromDescriptor","canCopyProperty","defineProperty","undefined","configurable","writable","enumerable","value","wrappedToString","withName","fromBody","toStringDescriptor","Function","prototype","toStringName","toString","mimicFn_1","name","Reflect","ownKeys","fromPrototype","getPrototypeOf","setPrototypeOf","changePrototype","trim","newToString","bind","changeToString","helpers","isFunction","isString","composeErrorMessage","description","inherits","ctor","superCtor","super_","create","constructor","cleanStack","stack","options","assign","pretty","replace","filter","line","pathMatches","match","includes","test","map","m","p1","join","mimicFn","require$$1","addErrorProps","error","props","message","require$$3","createExtendError_1","ErrorClass","classProps","ExtendError","errorProps","REGEX_CLASS_NAME","createExtendError","createError","className","TypeError","Error","this","captureStackTrace","createErrorClass","errorClass","RangeError","EvalError","SyntaxError","ReferenceError","URIError","ENDPOINT","FREE","PRO","isObject","MicrolinkError","isUrlHttp","stringify","got","flatten","mapRules","rules","flatRules","keys","reduce","acc","fetchFromApi","apiUrl","retryCount","response","responseType","body","err","statusCode","rawBody","headers","uri","isBuffer","Buffer","JSON","parse","_","status","more","parseBody","getApiUrl","apiKey","endpoint","retry","cache","gotHeaders","isPro","createMql","defaultOpts","assertUrl","fetchOpts","stream","buffer","module","supportsAbortController","globalThis","AbortController","supportsStreams","ReadableStream","supportsFormData","FormData","mergeHeaders","source1","source2","result","Headers","isHeadersInstance","source","delete","set","deepMerge","sources","returnValue","entries","requestMethods","responseTypes","json","text","formData","arrayBuffer","blob","retryMethods","retryStatusCodes","retryAfterStatusCodes","stop","Symbol","HTTPError","request","super","statusText","String","TimeoutError","delay","ms","Promise","resolve","setTimeout","timeout","abortController","reject","timeoutID","abort","fetch","then","catch","clearTimeout","normalizeRequestMethod","toUpperCase","defaultRetryOptions","limit","methods","statusCodes","afterStatusCodes","normalizeRetryOptions","maxSafeTimeout","Ky","_retryCount","_input","_options","credentials","hooks","beforeRequest","beforeRetry","afterResponse","method","prefixUrl","throwHttpErrors","Request","startsWith","endsWith","signal","addEventListener","searchParams","URLSearchParams","fn","_fetch","hook","modifiedResponse","_decorateResponse","clone","Response","ok","onDownloadProgress","_stream","toLowerCase","_retry","type","mimeType","get","parseJson","_calculateRetryDelay","retryAfter","after","Number","isNaN","Date","now","maxRetryAfter","Math","min","totalBytes","transferredBytes","controller","reader","getReader","read","done","close","byteLength","percent","enqueue","Uint8Array","validateAndMerge","createInstance","defaults","ky","newDefaults","extend","factory","href","flattie","encode","require$$2","whoops","require$$5","require$$4","statusMessage"],"mappings":"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"}